2026-02-24T18:09:41.917+01:00  INFO 69995 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 69995 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T18:09:41.920+01:00  INFO 69995 --- [main] n.b.a.AirHockeyServerApplication         : No active profile set, falling back to 1 default profile: "default"
2026-02-24T18:09:42.313+01:00  INFO 69995 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8080 (http)
2026-02-24T18:09:42.319+01:00  INFO 69995 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T18:09:42.319+01:00  INFO 69995 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T18:09:42.337+01:00  INFO 69995 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 391 ms
2026-02-24T18:09:42.538+01:00  INFO 69995 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T18:09:42.538+01:00  INFO 69995 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@29896529]]
2026-02-24T18:09:42.538+01:00  INFO 69995 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T18:09:42.550+01:00  INFO 69995 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8080 (http) with context path '/'
2026-02-24T18:09:42.553+01:00  INFO 69995 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.827 seconds (process running for 0.988)
2026-02-24T18:10:42.545+01:00  INFO 69995 --- [MessageBroker-8] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 2, completed tasks = 18]
2026-02-24T18:21:18.460+01:00  INFO 69995 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T18:21:20.481+01:00  INFO 69995 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T18:21:20.487+01:00  INFO 69995 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T18:21:20.488+01:00  INFO 69995 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@29896529]]
2026-02-24T18:21:20.488+01:00  INFO 69995 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T18:22:57.074+01:00  INFO 71603 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 71603 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T18:22:57.075+01:00  INFO 71603 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T18:22:57.510+01:00  INFO 71603 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T18:22:57.517+01:00  INFO 71603 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T18:22:57.517+01:00  INFO 71603 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T18:22:57.534+01:00  INFO 71603 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 433 ms
2026-02-24T18:22:57.713+01:00  INFO 71603 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T18:22:57.713+01:00  INFO 71603 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3caafa67]]
2026-02-24T18:22:57.714+01:00  INFO 71603 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T18:22:57.823+01:00  INFO 71603 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [selfsigned] with trust store [null]
2026-02-24T18:22:57.828+01:00  INFO 71603 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T18:22:57.831+01:00  INFO 71603 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.944 seconds (process running for 1.098)
2026-02-24T18:22:58.442+01:00  INFO 71603 --- [https-jsse-nio-8443-exec-6] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T18:22:58.442+01:00  INFO 71603 --- [https-jsse-nio-8443-exec-6] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T18:22:58.443+01:00  INFO 71603 --- [https-jsse-nio-8443-exec-6] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-24T18:22:58.518+01:00  INFO 71603 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@62b88e6a, simpSessionId=3iezwq2e}], simpSessionId=3iezwq2e}]]
2026-02-24T18:22:58.518+01:00  INFO 71603 --- [clientOutboundChannel-2] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@656692b6, simpSessionId=03exhbui}], simpSessionId=03exhbui}]]
2026-02-24T18:22:58.612+01:00  INFO 71603 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:22:58.615+01:00  INFO 71603 --- [clientInboundChannel-20] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T18:22:58.616+01:00  INFO 71603 --- [clientInboundChannel-20] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T18:22:58.635+01:00  INFO 71603 --- [clientInboundChannel-8] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:22:58.635+01:00  INFO 71603 --- [clientInboundChannel-10] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:22:58.636+01:00  INFO 71603 --- [clientInboundChannel-10] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=dec193d8-91a8-4fb5-ab01-793fa1541efa, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T18:23:32.678+01:00  INFO 71603 --- [clientOutboundChannel-9] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@312b9607, simpSessionId=xt5abbrv}], simpSessionId=xt5abbrv}]]
2026-02-24T18:23:32.685+01:00  INFO 71603 --- [clientInboundChannel-15] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T18:23:32.685+01:00  INFO 71603 --- [clientInboundChannel-6] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:23:32.685+01:00  INFO 71603 --- [clientInboundChannel-15] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T18:23:32.689+01:00  INFO 71603 --- [clientInboundChannel-9] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:23:32.689+01:00  INFO 71603 --- [clientInboundChannel-12] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:23:32.690+01:00  INFO 71603 --- [clientInboundChannel-12] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=dec193d8-91a8-4fb5-ab01-793fa1541efa, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T18:23:57.728+01:00  INFO 71603 --- [MessageBroker-9] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 3 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 72], outboundChannel[pool size = 14, active threads = 0, queued tasks = 0, completed tasks = 14], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 3, completed tasks = 32]
2026-02-24T18:24:03.495+01:00  INFO 71603 --- [clientOutboundChannel-15] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@189649d9, simpSessionId=meorl3c2}], simpSessionId=meorl3c2}]]
2026-02-24T18:24:03.498+01:00  INFO 71603 --- [clientInboundChannel-18] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:24:03.502+01:00  INFO 71603 --- [clientInboundChannel-8] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T18:24:03.502+01:00  INFO 71603 --- [clientInboundChannel-8] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T18:24:03.509+01:00  INFO 71603 --- [clientInboundChannel-16] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:24:03.509+01:00  INFO 71603 --- [clientInboundChannel-18] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:24:03.510+01:00  INFO 71603 --- [clientInboundChannel-18] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=2722e460-4d06-4395-a2cb-f25375dba399, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T18:28:32.658+01:00  INFO 71603 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T18:28:34.674+01:00  INFO 71603 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T18:28:34.681+01:00  INFO 71603 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T18:28:34.682+01:00  INFO 71603 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3caafa67]]
2026-02-24T18:28:34.682+01:00  INFO 71603 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T18:28:46.297+01:00  INFO 72230 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 72230 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T18:28:46.298+01:00  INFO 72230 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T18:28:46.720+01:00  INFO 72230 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T18:28:46.727+01:00  INFO 72230 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T18:28:46.727+01:00  INFO 72230 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T18:28:46.743+01:00  INFO 72230 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 421 ms
2026-02-24T18:28:46.922+01:00  INFO 72230 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T18:28:46.922+01:00  INFO 72230 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3caafa67]]
2026-02-24T18:28:46.923+01:00  INFO 72230 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T18:28:47.033+01:00  INFO 72230 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [selfsigned] with trust store [null]
2026-02-24T18:28:47.038+01:00  INFO 72230 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T18:28:47.042+01:00  INFO 72230 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.921 seconds (process running for 1.068)
2026-02-24T18:28:47.099+01:00  INFO 72230 --- [https-jsse-nio-8443-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T18:28:47.099+01:00  INFO 72230 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T18:28:47.100+01:00  INFO 72230 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-24T18:28:47.170+01:00  INFO 72230 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@749a1f5d, simpSessionId=ze22dkwd}], simpSessionId=ze22dkwd}]]
2026-02-24T18:29:01.234+01:00  INFO 72230 --- [clientOutboundChannel-2] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@5474406f, simpSessionId=w3a0bv1x}], simpSessionId=w3a0bv1x}]]
2026-02-24T18:29:01.264+01:00  INFO 72230 --- [clientInboundChannel-3] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T18:29:01.266+01:00  INFO 72230 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:29:01.266+01:00  INFO 72230 --- [clientInboundChannel-3] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T18:29:01.272+01:00  INFO 72230 --- [clientInboundChannel-13] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:29:01.272+01:00  INFO 72230 --- [clientInboundChannel-8] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:29:01.273+01:00  INFO 72230 --- [clientInboundChannel-13] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=8e1f68e6-efea-4f50-ae6e-120c61ce6e50, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T18:29:46.933+01:00  INFO 72230 --- [MessageBroker-3] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 33], outboundChannel[pool size = 6, active threads = 0, queued tasks = 0, completed tasks = 6], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 5, completed tasks = 33]
2026-02-24T18:33:03.411+01:00  INFO 72230 --- [clientOutboundChannel-9] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@4e5cfd1b, simpSessionId=nrxgi5g0}], simpSessionId=nrxgi5g0}]]
2026-02-24T18:33:03.428+01:00  INFO 72230 --- [clientInboundChannel-29] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:33:03.428+01:00  INFO 72230 --- [clientInboundChannel-22] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T18:33:03.428+01:00  INFO 72230 --- [clientInboundChannel-22] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T18:33:03.438+01:00  INFO 72230 --- [clientInboundChannel-34] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:33:03.438+01:00  INFO 72230 --- [clientInboundChannel-31] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:33:03.438+01:00  INFO 72230 --- [clientInboundChannel-34] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=8e1f68e6-efea-4f50-ae6e-120c61ce6e50, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T18:35:05.434+01:00  INFO 72230 --- [clientOutboundChannel-15] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@4ac56a8f, simpSessionId=whcvwd3w}], simpSessionId=whcvwd3w}]]
2026-02-24T18:35:05.444+01:00  INFO 72230 --- [clientInboundChannel-59] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T18:35:05.444+01:00  INFO 72230 --- [clientInboundChannel-59] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T18:35:05.444+01:00  INFO 72230 --- [clientInboundChannel-46] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:35:05.450+01:00  INFO 72230 --- [clientInboundChannel-51] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:35:05.450+01:00  INFO 72230 --- [clientInboundChannel-48] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T18:35:05.451+01:00  INFO 72230 --- [clientInboundChannel-51] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=8e1f68e6-efea-4f50-ae6e-120c61ce6e50, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T18:42:17.298+01:00  INFO 72230 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T18:42:19.313+01:00  INFO 72230 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T18:42:19.317+01:00  INFO 72230 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T18:42:19.317+01:00  INFO 72230 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3caafa67]]
2026-02-24T18:42:19.317+01:00  INFO 72230 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T19:09:16.680+01:00  INFO 79810 --- [main] n.b.a.AirHockeyServerApplicationTests    : Starting AirHockeyServerApplicationTests using Java 25.0.1 with PID 79810 (started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T19:09:16.681+01:00  INFO 79810 --- [main] n.b.a.AirHockeyServerApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2026-02-24T19:09:17.248+01:00  INFO 79810 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T19:09:17.249+01:00  INFO 79810 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@543d2ef3]]
2026-02-24T19:09:17.249+01:00  INFO 79810 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T19:09:17.253+01:00  INFO 79810 --- [main] n.b.a.AirHockeyServerApplicationTests    : Started AirHockeyServerApplicationTests in 0.708 seconds (process running for 2.052)
2026-02-24T19:09:17.269+01:00  WARN 79810 --- [main] n.b.a.service.GameServiceImpl            : tried to remove a player from store with non-existent gameId: unknown
2026-02-24T19:09:17.275+01:00  INFO 79810 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T19:09:17.275+01:00  INFO 79810 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@543d2ef3]]
2026-02-24T19:09:17.275+01:00  INFO 79810 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T19:09:48.263+01:00  INFO 79895 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 79895 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T19:09:48.264+01:00  INFO 79895 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T19:09:48.691+01:00  INFO 79895 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T19:09:48.698+01:00  INFO 79895 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T19:09:48.699+01:00  INFO 79895 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T19:09:48.716+01:00  INFO 79895 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 429 ms
2026-02-24T19:09:48.900+01:00  INFO 79895 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T19:09:48.901+01:00  INFO 79895 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@59838256]]
2026-02-24T19:09:48.901+01:00  INFO 79895 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T19:09:49.013+01:00  INFO 79895 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [selfsigned] with trust store [null]
2026-02-24T19:09:49.018+01:00  INFO 79895 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T19:09:49.022+01:00  INFO 79895 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.939 seconds (process running for 1.087)
2026-02-24T19:09:49.433+01:00  INFO 79895 --- [https-jsse-nio-8443-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T19:09:49.434+01:00  INFO 79895 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T19:09:49.434+01:00  INFO 79895 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-02-24T19:09:49.505+01:00  INFO 79895 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@635c91ef, simpSessionId=q54rhwbn}], simpSessionId=q54rhwbn}]]
2026-02-24T19:10:18.173+01:00  INFO 79895 --- [clientOutboundChannel-2] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@4044bfff, simpSessionId=ucq5cbfp}], simpSessionId=ucq5cbfp}]]
2026-02-24T19:10:18.206+01:00  INFO 79895 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:10:18.210+01:00  INFO 79895 --- [clientInboundChannel-3] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:10:18.213+01:00  INFO 79895 --- [clientInboundChannel-3] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:10:48.909+01:00  INFO 79895 --- [MessageBroker-10] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 36], outboundChannel[pool size = 8, active threads = 0, queued tasks = 0, completed tasks = 8], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 5, completed tasks = 32]
2026-02-24T19:10:57.895+01:00  INFO 79895 --- [clientOutboundChannel-10] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@21d73615, simpSessionId=n21r3fip}], simpSessionId=n21r3fip}]]
2026-02-24T19:11:02.870+01:00  INFO 79895 --- [clientOutboundChannel-12] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@4790dec3, simpSessionId=rbwsn2lg}], simpSessionId=rbwsn2lg}]]
2026-02-24T19:11:02.875+01:00  INFO 79895 --- [clientInboundChannel-11] n.b.a.controller.UserController          : user entered: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:11:07.667+01:00  INFO 79895 --- [clientInboundChannel-20] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad connected
2026-02-24T19:11:07.668+01:00  INFO 79895 --- [clientInboundChannel-20] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad added to gameStore
2026-02-24T19:11:41.189+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:11:41.197+01:00  INFO 79895 --- [clientInboundChannel-5] n.b.a.controller.GameController          : disconnect event Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:11:41.197+01:00  INFO 79895 --- [clientInboundChannel-10] n.b.a.controller.UserController          : user exited: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:11:41.197+01:00  INFO 79895 --- [clientInboundChannel-3] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:11:41.197+01:00  INFO 79895 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:11:41.198+01:00  INFO 79895 --- [clientInboundChannel-3] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=eb456252-6ccd-4b88-a1f5-4f1aa2767439, players=[Player[agency=Player_2, ready=true, username=Snorre$8b724554-0236-4870-abce-fe718e0dbdad], Player[agency=Player_1, ready=true, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=GAME_RUNNING]
2026-02-24T19:11:41.198+01:00  WARN 79895 --- [clientInboundChannel-5] n.b.a.service.GameServiceImpl            : tried to remove a player from store with non-existent gameId: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:11:41.198+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : Interrupt called on gameThread: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:11:41.198+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:11:41.199+01:00 ERROR 79895 --- [clientInboundChannel-5] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.orElseThrow(Optional.java:377) ~[na:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.getPlayers(GameServiceImpl.java:72) ~[classes/:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.handleUserDisconnect(GameServiceImpl.java:111) ~[classes/:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.lambda$handleUserDisconnect$0(GameServiceImpl.java:77) ~[classes/:na]
	at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.handleUserDisconnect(GameServiceImpl.java:77) ~[classes/:na]
	at nu.borjessons.airhockeyserver.controller.GameController.handleDisconnect(GameController.java:111) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:168) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:560) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:546) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:95) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:514) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:451) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:151) ~[spring-messaging-7.0.5.jar:7.0.5]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]

2026-02-24T19:18:53.493+01:00  INFO 79895 --- [clientOutboundChannel-25] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@161de398, simpSessionId=x0j2dsqw}], simpSessionId=x0j2dsqw}]]
2026-02-24T19:18:53.510+01:00  INFO 79895 --- [clientInboundChannel-40] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:18:53.511+01:00  INFO 79895 --- [clientInboundChannel-27] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:18:53.511+01:00  INFO 79895 --- [clientInboundChannel-40] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:19:02.622+01:00  INFO 79895 --- [clientInboundChannel-35] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:19:02.622+01:00  INFO 79895 --- [clientInboundChannel-30] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:19:02.622+01:00  INFO 79895 --- [clientInboundChannel-35] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=eb456252-6ccd-4b88-a1f5-4f1aa2767439, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T19:27:50.828+01:00  INFO 79895 --- [clientInboundChannel-141] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:27:50.828+01:00  INFO 79895 --- [clientInboundChannel-144] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:27:52.044+01:00  INFO 79895 --- [clientOutboundChannel-165] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@31f69b88, simpSessionId=fr5232d0}], simpSessionId=fr5232d0}]]
2026-02-24T19:27:52.059+01:00  INFO 79895 --- [clientInboundChannel-134] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:27:52.059+01:00  INFO 79895 --- [clientInboundChannel-136] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:27:52.060+01:00  INFO 79895 --- [clientInboundChannel-136] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:27:52.282+01:00  INFO 79895 --- [clientOutboundChannel-169] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@4a87a67, simpSessionId=tu14end4}], simpSessionId=tu14end4}]]
2026-02-24T19:27:52.346+01:00  INFO 79895 --- [clientInboundChannel-121] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad connected
2026-02-24T19:27:52.346+01:00  INFO 79895 --- [clientInboundChannel-137] n.b.a.controller.UserController          : user entered: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:27:52.347+01:00  INFO 79895 --- [clientInboundChannel-121] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad added to gameStore
2026-02-24T19:28:25.375+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:28:25.390+01:00  INFO 79895 --- [clientInboundChannel-145] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:28:25.391+01:00  INFO 79895 --- [clientInboundChannel-143] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:28:25.391+01:00  INFO 79895 --- [clientInboundChannel-143] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=eb456252-6ccd-4b88-a1f5-4f1aa2767439, players=[Player[agency=Player_2, ready=true, username=Snorre$8b724554-0236-4870-abce-fe718e0dbdad], Player[agency=Player_1, ready=true, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=GAME_RUNNING]
2026-02-24T19:28:25.393+01:00  INFO 79895 --- [clientInboundChannel-144] n.b.a.controller.UserController          : user exited: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:28:25.393+01:00  INFO 79895 --- [clientInboundChannel-144] n.b.a.controller.GameController          : disconnect event Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:28:25.396+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : Interrupt called on gameThread: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:28:25.398+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:32:15.005+01:00  INFO 79895 --- [clientOutboundChannel-185] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@5afdbbe9, simpSessionId=ebcd0yrd}], simpSessionId=ebcd0yrd}]]
2026-02-24T19:32:15.019+01:00  INFO 79895 --- [clientInboundChannel-164] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:32:15.019+01:00  INFO 79895 --- [clientInboundChannel-151] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:32:15.019+01:00  INFO 79895 --- [clientInboundChannel-164] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:32:19.467+01:00  INFO 79895 --- [clientOutboundChannel-193] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@10ec4068, simpSessionId=ojmf4ycr}], simpSessionId=ojmf4ycr}]]
2026-02-24T19:32:19.478+01:00  INFO 79895 --- [clientInboundChannel-152] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad connected
2026-02-24T19:32:19.478+01:00  INFO 79895 --- [clientInboundChannel-154] n.b.a.controller.UserController          : user entered: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:32:19.478+01:00  INFO 79895 --- [clientInboundChannel-152] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad added to gameStore
2026-02-24T19:32:34.683+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:32:34.692+01:00  INFO 79895 --- [clientInboundChannel-154] n.b.a.controller.UserController          : user exited: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:32:34.692+01:00  INFO 79895 --- [clientInboundChannel-152] n.b.a.controller.GameController          : disconnect event Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:32:34.695+01:00  INFO 79895 --- [clientInboundChannel-152] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:32:34.695+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : Interrupt called on gameThread: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:32:34.695+01:00  INFO 79895 --- [game-eb456252-6ccd-4b88-a1f5-4f1aa2767439] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: eb456252-6ccd-4b88-a1f5-4f1aa2767439
2026-02-24T19:32:34.695+01:00  INFO 79895 --- [clientInboundChannel-152] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:32:34.699+01:00  INFO 79895 --- [clientInboundChannel-152] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=eb456252-6ccd-4b88-a1f5-4f1aa2767439, players=[Player[agency=Player_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T19:33:36.213+01:00  INFO 79895 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T19:33:38.237+01:00  INFO 79895 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T19:33:38.243+01:00  INFO 79895 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T19:33:38.243+01:00  INFO 79895 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@59838256]]
2026-02-24T19:33:38.243+01:00  INFO 79895 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T19:33:41.844+01:00  INFO 82485 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 82485 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T19:33:41.845+01:00  INFO 82485 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T19:33:42.266+01:00  INFO 82485 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T19:33:42.273+01:00  INFO 82485 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T19:33:42.273+01:00  INFO 82485 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T19:33:42.292+01:00  INFO 82485 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 422 ms
2026-02-24T19:33:42.479+01:00  INFO 82485 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T19:33:42.479+01:00  INFO 82485 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@53747c4a]]
2026-02-24T19:33:42.480+01:00  INFO 82485 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T19:33:42.596+01:00  INFO 82485 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [selfsigned] with trust store [null]
2026-02-24T19:33:42.601+01:00  INFO 82485 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T19:33:42.604+01:00  INFO 82485 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.938 seconds (process running for 1.099)
2026-02-24T19:33:43.407+01:00  INFO 82485 --- [https-jsse-nio-8443-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T19:33:43.407+01:00  INFO 82485 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T19:33:43.408+01:00  INFO 82485 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-24T19:33:43.478+01:00  INFO 82485 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@2af39e38, simpSessionId=izdbn02q}], simpSessionId=izdbn02q}]]
2026-02-24T19:33:55.472+01:00  INFO 82485 --- [clientOutboundChannel-2] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@657daba6, simpSessionId=5humjg3e}], simpSessionId=5humjg3e}]]
2026-02-24T19:33:55.501+01:00  INFO 82485 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:33:55.505+01:00  INFO 82485 --- [clientInboundChannel-3] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:33:55.506+01:00  INFO 82485 --- [clientInboundChannel-3] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:34:03.342+01:00  INFO 82485 --- [clientOutboundChannel-7] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@5c89f0ff, simpSessionId=nxjegsnh}], simpSessionId=nxjegsnh}]]
2026-02-24T19:34:03.349+01:00  INFO 82485 --- [clientInboundChannel-1] n.b.a.controller.UserController          : user entered: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:34:04.659+01:00  INFO 82485 --- [clientInboundChannel-5] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad connected
2026-02-24T19:34:04.661+01:00  INFO 82485 --- [clientInboundChannel-5] n.b.a.controller.GameController          : Snorre$8b724554-0236-4870-abce-fe718e0dbdad added to gameStore
2026-02-24T19:34:16.916+01:00  INFO 82485 --- [game-5f3fc543-e1bb-4db1-af1a-6dea5a17c12a] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: 5f3fc543-e1bb-4db1-af1a-6dea5a17c12a
2026-02-24T19:34:16.928+01:00  INFO 82485 --- [clientInboundChannel-6] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:34:16.929+01:00  INFO 82485 --- [clientInboundChannel-3] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:34:16.928+01:00  INFO 82485 --- [clientInboundChannel-4] n.b.a.controller.UserController          : user exited: Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:34:16.929+01:00  INFO 82485 --- [clientInboundChannel-7] n.b.a.controller.GameController          : disconnect event Snorre$8b724554-0236-4870-abce-fe718e0dbdad
2026-02-24T19:34:16.930+01:00  INFO 82485 --- [clientInboundChannel-3] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=5f3fc543-e1bb-4db1-af1a-6dea5a17c12a, players=[Player[agency=PLAYER_2, ready=true, username=Snorre$8b724554-0236-4870-abce-fe718e0dbdad], Player[agency=PLAYER_1, ready=true, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=GAME_RUNNING]
2026-02-24T19:34:16.931+01:00  INFO 82485 --- [game-5f3fc543-e1bb-4db1-af1a-6dea5a17c12a] n.b.airhockeyserver.game.GameRunnable    : Interrupt called on gameThread: 5f3fc543-e1bb-4db1-af1a-6dea5a17c12a
2026-02-24T19:34:16.931+01:00  INFO 82485 --- [game-5f3fc543-e1bb-4db1-af1a-6dea5a17c12a] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: 5f3fc543-e1bb-4db1-af1a-6dea5a17c12a
2026-02-24T19:34:16.930+01:00  WARN 82485 --- [clientInboundChannel-7] n.b.a.service.GameServiceImpl            : tried to remove a player from store with non-existent gameId: 5f3fc543-e1bb-4db1-af1a-6dea5a17c12a
2026-02-24T19:34:16.933+01:00 ERROR 82485 --- [clientInboundChannel-7] .WebSocketAnnotationMethodMessageHandler : Unhandled exception from message handler method

java.util.NoSuchElementException: No value present
	at java.base/java.util.Optional.orElseThrow(Optional.java:377) ~[na:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.getPlayers(GameServiceImpl.java:72) ~[classes/:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.handleUserDisconnect(GameServiceImpl.java:111) ~[classes/:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.lambda$handleUserDisconnect$0(GameServiceImpl.java:77) ~[classes/:na]
	at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]
	at nu.borjessons.airhockeyserver.service.GameServiceImpl.handleUserDisconnect(GameServiceImpl.java:77) ~[classes/:na]
	at nu.borjessons.airhockeyserver.controller.GameController.handleDisconnect(GameController.java:111) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:565) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:168) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMatch(AbstractMethodMessageHandler.java:560) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:546) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.simp.annotation.support.SimpAnnotationMethodMessageHandler.handleMatch(SimpAnnotationMethodMessageHandler.java:95) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessageInternal(AbstractMethodMessageHandler.java:514) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.handler.invocation.AbstractMethodMessageHandler.handleMessage(AbstractMethodMessageHandler.java:451) ~[spring-messaging-7.0.5.jar:7.0.5]
	at org.springframework.messaging.support.ExecutorSubscribableChannel$SendTask.run(ExecutorSubscribableChannel.java:151) ~[spring-messaging-7.0.5.jar:7.0.5]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1474) ~[na:na]

2026-02-24T19:34:42.487+01:00  INFO 82485 --- [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[3 current WS(3)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 93], outboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 45], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 6, completed tasks = 34]
2026-02-24T19:46:43.160+01:00  INFO 82485 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T19:46:45.179+01:00  INFO 82485 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T19:46:45.190+01:00  INFO 82485 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T19:46:45.190+01:00  INFO 82485 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@53747c4a]]
2026-02-24T19:46:45.190+01:00  INFO 82485 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T19:53:24.883+01:00  INFO 86285 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 86285 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T19:53:24.884+01:00  INFO 86285 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T19:53:25.266+01:00  INFO 86285 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T19:53:25.273+01:00  INFO 86285 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T19:53:25.274+01:00  INFO 86285 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T19:53:25.291+01:00  INFO 86285 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 382 ms
2026-02-24T19:53:25.466+01:00  INFO 86285 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T19:53:25.467+01:00  INFO 86285 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@20801cbb]]
2026-02-24T19:53:25.467+01:00  INFO 86285 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T19:53:25.566+01:00  INFO 86285 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [tomcat] with trust store [null]
2026-02-24T19:53:25.571+01:00  INFO 86285 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T19:53:25.574+01:00  INFO 86285 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.914 seconds (process running for 1.056)
2026-02-24T19:53:38.117+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T19:53:38.118+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T19:53:38.119+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-02-24T19:53:38.184+01:00  INFO 86285 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@5ef313d2, simpSessionId=5mdc44um}], simpSessionId=5mdc44um}]]
2026-02-24T19:53:38.213+01:00  INFO 86285 --- [clientInboundChannel-4] n.b.a.controller.UserController          : user entered: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:53:38.216+01:00  INFO 86285 --- [clientInboundChannel-19] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c connected
2026-02-24T19:53:38.221+01:00  INFO 86285 --- [clientInboundChannel-19] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c added to gameStore
2026-02-24T19:53:56.102+01:00  INFO 86285 --- [clientOutboundChannel-7] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@73c6f3ed, simpSessionId=h30sgnwy}], simpSessionId=h30sgnwy}]]
2026-02-24T19:53:56.119+01:00  INFO 86285 --- [clientOutboundChannel-8] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@33bc3e03, simpSessionId=axhnhfqh}], simpSessionId=axhnhfqh}]]
2026-02-24T19:54:07.355+01:00  INFO 86285 --- [clientOutboundChannel-10] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@1cb7dea, simpSessionId=2va3lnxk}], simpSessionId=2va3lnxk}]]
2026-02-24T19:54:07.361+01:00  INFO 86285 --- [clientInboundChannel-12] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:54:08.579+01:00  INFO 86285 --- [clientInboundChannel-18] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:54:08.589+01:00  INFO 86285 --- [clientInboundChannel-18] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:54:25.471+01:00  INFO 86285 --- [MessageBroker-2] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[4 current WS(4)-HttpStream(0)-HttpPoll(0), 4 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(4)-CONNECTED(4)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 90], outboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 35], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 7, completed tasks = 30]
2026-02-24T19:54:27.358+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T19:54:27.366+01:00  INFO 86285 --- [clientInboundChannel-5] n.b.a.controller.UserController          : user exited: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:54:27.367+01:00  INFO 86285 --- [clientInboundChannel-2] n.b.a.controller.GameController          : disconnect event Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:54:27.372+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : Interrupt called on gameThread: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T19:54:27.373+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T19:54:27.369+01:00  INFO 86285 --- [clientInboundChannel-2] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=51fea0bd-2835-4569-b9e6-b9709bd537d6, players=[Player[agency=PLAYER_1, ready=true, username=Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c], Player[agency=PLAYER_2, ready=true, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=GAME_RUNNING]
2026-02-24T19:54:27.375+01:00  INFO 86285 --- [clientInboundChannel-6] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:54:27.375+01:00  INFO 86285 --- [clientInboundChannel-18] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:57:19.332+01:00  INFO 86285 --- [clientOutboundChannel-25] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@7a9eb3a0, simpSessionId=5gh1a1c3}], simpSessionId=5gh1a1c3}]]
2026-02-24T19:57:19.346+01:00  INFO 86285 --- [clientInboundChannel-30] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c connected
2026-02-24T19:57:19.346+01:00  INFO 86285 --- [clientInboundChannel-26] n.b.a.controller.UserController          : user entered: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:57:19.346+01:00  INFO 86285 --- [clientInboundChannel-30] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c added to gameStore
2026-02-24T19:57:19.419+01:00  INFO 86285 --- [clientOutboundChannel-29] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@49e27a73, simpSessionId=14qn4wn3}], simpSessionId=14qn4wn3}]]
2026-02-24T19:57:19.446+01:00  INFO 86285 --- [clientInboundChannel-40] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:57:19.446+01:00  INFO 86285 --- [clientInboundChannel-21] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:57:19.447+01:00  INFO 86285 --- [clientInboundChannel-21] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:57:30.615+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T19:57:30.637+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-5] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_1
2026-02-24T19:57:30.654+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-8] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_2
2026-02-24T19:59:30.630+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T19:59:30.632+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-10] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_1
2026-02-24T19:59:30.634+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-2] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_2
2026-02-24T19:59:34.799+01:00  INFO 86285 --- [clientInboundChannel-54] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:59:34.799+01:00  INFO 86285 --- [clientInboundChannel-54] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:59:35.350+01:00  INFO 86285 --- [clientOutboundChannel-53] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@489dd191, simpSessionId=togqfxbm}], simpSessionId=togqfxbm}]]
2026-02-24T19:59:35.361+01:00  INFO 86285 --- [clientInboundChannel-47] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:59:35.361+01:00  INFO 86285 --- [clientInboundChannel-44] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:59:35.362+01:00  INFO 86285 --- [clientInboundChannel-44] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:59:39.734+01:00  INFO 86285 --- [clientInboundChannel-42] n.b.a.controller.GameController          : disconnect event Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:59:39.734+01:00  INFO 86285 --- [clientInboundChannel-59] n.b.a.controller.UserController          : user exited: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:59:39.743+01:00  INFO 86285 --- [clientInboundChannel-42] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=51fea0bd-2835-4569-b9e6-b9709bd537d6, players=[Player[agency=PLAYER_1, ready=false, username=Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c], Player[agency=PLAYER_2, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T19:59:39.836+01:00  INFO 86285 --- [clientOutboundChannel-60] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@3ffc8dfe, simpSessionId=nc3ulpqr}], simpSessionId=nc3ulpqr}]]
2026-02-24T19:59:39.842+01:00  INFO 86285 --- [clientInboundChannel-56] n.b.a.controller.UserController          : user entered: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T19:59:39.842+01:00  INFO 86285 --- [clientInboundChannel-54] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c connected
2026-02-24T19:59:39.843+01:00  INFO 86285 --- [clientInboundChannel-54] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c added to gameStore
2026-02-24T19:59:45.575+01:00  INFO 86285 --- [clientInboundChannel-52] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:59:45.581+01:00  INFO 86285 --- [clientInboundChannel-52] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:59:46.564+01:00  INFO 86285 --- [clientOutboundChannel-24] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@9f4209d, simpSessionId=5asblvv5}], simpSessionId=5asblvv5}]]
2026-02-24T19:59:46.569+01:00  INFO 86285 --- [clientInboundChannel-50] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T19:59:47.978+01:00  INFO 86285 --- [clientInboundChannel-58] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T19:59:47.979+01:00  INFO 86285 --- [clientInboundChannel-58] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T19:59:52.970+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T19:59:52.995+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-5] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_1
2026-02-24T19:59:53.014+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-1] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_2
2026-02-24T20:01:52.994+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-9] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_1
2026-02-24T20:01:52.994+01:00  INFO 86285 --- [game-51fea0bd-2835-4569-b9e6-b9709bd537d6] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: 51fea0bd-2835-4569-b9e6-b9709bd537d6
2026-02-24T20:01:53.012+01:00  INFO 86285 --- [https-jsse-nio-8443-exec-8] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 51fea0bd-2835-4569-b9e6-b9709bd537d6 as PLAYER_2
2026-02-24T20:13:41.014+01:00  INFO 86285 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T20:13:43.036+01:00  INFO 86285 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T20:13:43.042+01:00  INFO 86285 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T20:13:43.042+01:00  INFO 86285 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@20801cbb]]
2026-02-24T20:13:43.043+01:00  INFO 86285 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T20:16:07.752+01:00  INFO 88809 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 88809 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T20:16:07.754+01:00  INFO 88809 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T20:16:08.139+01:00  INFO 88809 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T20:16:08.147+01:00  INFO 88809 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T20:16:08.148+01:00  INFO 88809 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T20:16:08.168+01:00  INFO 88809 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 392 ms
2026-02-24T20:16:08.344+01:00  INFO 88809 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T20:16:08.344+01:00  INFO 88809 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b53840a]]
2026-02-24T20:16:08.345+01:00  INFO 88809 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T20:16:08.446+01:00  INFO 88809 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [tomcat] with trust store [null]
2026-02-24T20:16:08.451+01:00  INFO 88809 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T20:16:08.454+01:00  INFO 88809 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.886 seconds (process running for 1.033)
2026-02-24T20:16:08.717+01:00  INFO 88809 --- [https-jsse-nio-8443-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T20:16:08.717+01:00  INFO 88809 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T20:16:08.718+01:00  INFO 88809 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-02-24T20:16:08.788+01:00  INFO 88809 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@5a4633c, simpSessionId=1w3vlmlj}], simpSessionId=1w3vlmlj}]]
2026-02-24T20:16:08.820+01:00  INFO 88809 --- [clientInboundChannel-3] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:16:08.824+01:00  INFO 88809 --- [clientInboundChannel-16] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T20:16:08.826+01:00  INFO 88809 --- [clientInboundChannel-16] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T20:17:04.013+01:00  INFO 88809 --- [clientOutboundChannel-10] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@2a26bcdd, simpSessionId=oxlvfuuw}], simpSessionId=oxlvfuuw}]]
2026-02-24T20:17:04.018+01:00  INFO 88809 --- [clientInboundChannel-3] n.b.a.controller.UserController          : user entered: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T20:17:04.023+01:00  INFO 88809 --- [clientInboundChannel-19] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c connected
2026-02-24T20:17:04.023+01:00  INFO 88809 --- [clientInboundChannel-19] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c added to gameStore
2026-02-24T20:17:08.349+01:00  INFO 88809 --- [MessageBroker-9] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[2 current WS(2)-HttpStream(0)-HttpPoll(0), 2 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(2)-CONNECTED(2)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 63], outboundChannel[pool size = 13, active threads = 0, queued tasks = 0, completed tasks = 13], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 5, completed tasks = 30]
2026-02-24T20:17:14.227+01:00  INFO 88809 --- [clientInboundChannel-12] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:17:14.230+01:00  INFO 88809 --- [clientInboundChannel-12] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:17:14.237+01:00  INFO 88809 --- [clientInboundChannel-12] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=51fea0bd-2835-4569-b9e6-b9709bd537d6, players=[Player[agency=PLAYER_1, ready=false, username=Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110]], gameState=LOBBY]
2026-02-24T20:17:15.770+01:00  INFO 88809 --- [clientOutboundChannel-17] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@783e83be, simpSessionId=130azadk}], simpSessionId=130azadk}]]
2026-02-24T20:17:15.775+01:00  INFO 88809 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:17:16.895+01:00  INFO 88809 --- [clientInboundChannel-10] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T20:17:16.898+01:00  INFO 88809 --- [clientInboundChannel-10] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T20:17:22.718+01:00  INFO 88809 --- [game-64352a84-1203-4f6d-a3e9-4c9ee1c688f7] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: 64352a84-1203-4f6d-a3e9-4c9ee1c688f7
2026-02-24T20:17:22.742+01:00  INFO 88809 --- [https-jsse-nio-8443-exec-9] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 64352a84-1203-4f6d-a3e9-4c9ee1c688f7 as PLAYER_1
2026-02-24T20:17:22.751+01:00  INFO 88809 --- [https-jsse-nio-8443-exec-3] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 64352a84-1203-4f6d-a3e9-4c9ee1c688f7 as PLAYER_2
2026-02-24T20:18:09.912+01:00  INFO 88809 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T20:18:11.924+01:00  INFO 88809 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T20:18:11.932+01:00  INFO 88809 --- [game-64352a84-1203-4f6d-a3e9-4c9ee1c688f7] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 64352a84-1203-4f6d-a3e9-4c9ee1c688f7 as PLAYER_1
2026-02-24T20:18:11.933+01:00  WARN 88809 --- [game-64352a84-1203-4f6d-a3e9-4c9ee1c688f7] n.b.a.websocket.GameWebSocketHandler     : Failed to send board state to 64352a84-1203-4f6d-a3e9-4c9ee1c688f7 PLAYER_1: java.nio.channels.ClosedChannelException
2026-02-24T20:18:11.934+01:00  INFO 88809 --- [game-64352a84-1203-4f6d-a3e9-4c9ee1c688f7] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 64352a84-1203-4f6d-a3e9-4c9ee1c688f7 as PLAYER_2
2026-02-24T20:18:11.934+01:00  WARN 88809 --- [game-64352a84-1203-4f6d-a3e9-4c9ee1c688f7] n.b.a.websocket.GameWebSocketHandler     : Failed to send board state to 64352a84-1203-4f6d-a3e9-4c9ee1c688f7 PLAYER_2: java.nio.channels.ClosedChannelException
2026-02-24T20:18:11.934+01:00  INFO 88809 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T20:18:11.934+01:00  INFO 88809 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b53840a]]
2026-02-24T20:18:11.934+01:00  INFO 88809 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
2026-02-24T20:20:43.720+01:00  INFO 89336 --- [main] n.b.a.AirHockeyServerApplication         : Starting AirHockeyServerApplication using Java 25.0.1 with PID 89336 (/Users/robinborjesson/dev/java/air-hockey-server/target/classes started by robinborjesson in /Users/robinborjesson/dev/java/air-hockey-server)
2026-02-24T20:20:43.721+01:00  INFO 89336 --- [main] n.b.a.AirHockeyServerApplication         : The following 1 profile is active: "dev"
2026-02-24T20:20:44.161+01:00  INFO 89336 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 8443 (https)
2026-02-24T20:20:44.169+01:00  INFO 89336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-02-24T20:20:44.169+01:00  INFO 89336 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.18]
2026-02-24T20:20:44.187+01:00  INFO 89336 --- [main] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 441 ms
2026-02-24T20:20:44.389+01:00  INFO 89336 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Starting...
2026-02-24T20:20:44.390+01:00  INFO 89336 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b53840a]]
2026-02-24T20:20:44.390+01:00  INFO 89336 --- [main] o.s.m.s.b.SimpleBrokerMessageHandler     : Started.
2026-02-24T20:20:44.497+01:00  INFO 89336 --- [main] o.a.t.util.net.NioEndpoint.certificate   : Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [Set directly - location unknown] using alias [tomcat] with trust store [null]
2026-02-24T20:20:44.502+01:00  INFO 89336 --- [main] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 8443 (https) with context path '/'
2026-02-24T20:20:44.508+01:00  INFO 89336 --- [main] n.b.a.AirHockeyServerApplication         : Started AirHockeyServerApplication in 0.98 seconds (process running for 1.145)
2026-02-24T20:20:44.568+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-24T20:20:44.569+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-02-24T20:20:44.569+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-02-24T20:20:44.629+01:00  INFO 89336 --- [clientOutboundChannel-1] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@eb7e7b5, simpSessionId=hbp3gd0v}], simpSessionId=hbp3gd0v}]]
2026-02-24T20:20:44.663+01:00  INFO 89336 --- [clientInboundChannel-16] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c connected
2026-02-24T20:20:44.665+01:00  INFO 89336 --- [clientInboundChannel-16] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c added to gameStore
2026-02-24T20:20:44.931+01:00  INFO 89336 --- [clientOutboundChannel-5] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@6389ed3e, simpSessionId=lqm1chhg}], simpSessionId=lqm1chhg}]]
2026-02-24T20:20:44.934+01:00  INFO 89336 --- [clientInboundChannel-18] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T20:20:44.935+01:00  INFO 89336 --- [clientInboundChannel-18] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T20:20:44.949+01:00  INFO 89336 --- [clientOutboundChannel-11] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@2a1ee53a, simpSessionId=2rwjnshb}], simpSessionId=2rwjnshb}]]
2026-02-24T20:20:50.259+01:00  INFO 89336 --- [clientInboundChannel-7] n.b.a.controller.UserController          : user exited: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:20:50.264+01:00  INFO 89336 --- [clientInboundChannel-7] n.b.a.controller.GameController          : disconnect event Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:20:52.267+01:00  INFO 89336 --- [clientInboundChannel-13] n.b.a.controller.GameController          : disconnect event Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T20:20:52.267+01:00  INFO 89336 --- [clientInboundChannel-11] n.b.a.controller.UserController          : user exited: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T20:20:52.269+01:00  INFO 89336 --- [clientInboundChannel-13] n.b.a.service.GameServiceImpl            : removed gameStore GameStore[gameId=64352a84-1203-4f6d-a3e9-4c9ee1c688f7, players=[Player[agency=PLAYER_1, ready=false, username=Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c]], gameState=LOBBY]
2026-02-24T20:20:55.709+01:00  INFO 89336 --- [clientOutboundChannel-20] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@78314d65, simpSessionId=ywrarjjt}], simpSessionId=ywrarjjt}]]
2026-02-24T20:20:55.712+01:00  INFO 89336 --- [clientInboundChannel-4] n.b.a.controller.UserController          : user entered: Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110
2026-02-24T20:20:55.720+01:00  INFO 89336 --- [clientInboundChannel-17] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 connected
2026-02-24T20:20:55.720+01:00  INFO 89336 --- [clientInboundChannel-17] n.b.a.controller.GameController          : Robin$9fd085b1-baa2-4561-a7a5-cc3d53ceb110 added to gameStore
2026-02-24T20:20:57.636+01:00  INFO 89336 --- [clientOutboundChannel-5] n.b.a.event.WebsocketEventListener       : connect event: SessionConnectedEvent[GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT_ACK, simpConnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=CONNECT, stompCommand=CONNECT, nativeHeaders={accept-version=[1.2,1.1,1.0], heart-beat=[2000,2000]}, simpSessionAttributes={}, simpHeartbeat=[J@6d4e1f3f, simpSessionId=awabflue}], simpSessionId=awabflue}]]
2026-02-24T20:20:57.639+01:00  INFO 89336 --- [clientInboundChannel-9] n.b.a.controller.UserController          : user entered: Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c
2026-02-24T20:20:59.119+01:00  INFO 89336 --- [clientInboundChannel-15] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c connected
2026-02-24T20:20:59.120+01:00  INFO 89336 --- [clientInboundChannel-15] n.b.a.controller.GameController          : Robbie$c93ba494-60d3-45f0-bc8f-5bcb2d45435c added to gameStore
2026-02-24T20:21:05.177+01:00  INFO 89336 --- [game-74a62f69-957d-4e4b-baff-f8fc490230d1] n.b.airhockeyserver.game.GameRunnable    : Starting game loop: 74a62f69-957d-4e4b-baff-f8fc490230d1
2026-02-24T20:21:05.189+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-8] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 74a62f69-957d-4e4b-baff-f8fc490230d1 as PLAYER_2
2026-02-24T20:21:05.209+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-4] n.b.a.websocket.GameWebSocketHandler     : Game WS connected: 74a62f69-957d-4e4b-baff-f8fc490230d1 as PLAYER_1
2026-02-24T20:21:44.396+01:00  INFO 89336 --- [MessageBroker-8] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[5 current WS(5)-HttpStream(0)-HttpPoll(0), 5 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(5)-CONNECTED(5)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 177], outboundChannel[pool size = 20, active threads = 0, queued tasks = 0, completed tasks = 72], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 8, completed tasks = 32]
2026-02-24T20:23:05.191+01:00  INFO 89336 --- [game-74a62f69-957d-4e4b-baff-f8fc490230d1] n.b.airhockeyserver.game.GameRunnable    : exiting game loop: 74a62f69-957d-4e4b-baff-f8fc490230d1
2026-02-24T20:23:05.193+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-7] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 74a62f69-957d-4e4b-baff-f8fc490230d1 as PLAYER_2
2026-02-24T20:23:05.201+01:00  INFO 89336 --- [https-jsse-nio-8443-exec-10] n.b.a.websocket.GameWebSocketHandler     : Game WS disconnected: 74a62f69-957d-4e4b-baff-f8fc490230d1 as PLAYER_1
2026-02-24T20:31:35.184+01:00  INFO 89336 --- [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-02-24T20:31:37.206+01:00  INFO 89336 --- [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-02-24T20:31:37.213+01:00  INFO 89336 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopping...
2026-02-24T20:31:37.213+01:00  INFO 89336 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2b53840a]]
2026-02-24T20:31:37.214+01:00  INFO 89336 --- [SpringApplicationShutdownHook] o.s.m.s.b.SimpleBrokerMessageHandler     : Stopped.
